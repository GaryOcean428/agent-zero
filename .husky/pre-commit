#!/usr/bin/env sh

echo "üîç Running pre-commit checks..."

# Run critical linting (only clean files to avoid overwhelming output)
echo "üìã ESLint check..."
npm run lint:clean > /dev/null 2>&1 || echo "‚ö†Ô∏è ESLint warnings found (non-blocking)"

# Run tests to ensure changes don't break functionality
echo "üß™ Running tests..."
npm test || exit 1

# Check for critical Python issues
echo "üêç Python critical checks..."
python -c "import ruff" 2>/dev/null && ruff check . --select F821,E999 || echo "‚ö†Ô∏è Ruff check completed"

echo "‚úÖ All critical pre-commit checks passed!"